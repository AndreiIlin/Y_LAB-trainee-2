# Интернационализация (i18n)

## `imports.ts`

## `use-i18n.ts`

Хук для получения кода текущей локали `locale`, списка доступных локалей `locales`, функции смены 
локали `setLocale()` и функции перевода `t()`.
Если меняется локаль или словарь, то хук вернёт новую функцию перевода. При этом компонент перерендерится.

```ts
const {locale, locales, setLocale, t} = useI18n();

const title = t(`example.title`);
```

Для перевода с учётом множественного числа в опции plural указывается число для слоения. В словаре 
должны быть переводы под соответствующие множественные формы
```ts
const countText = t(`example.basket.articles`, {plural: 5}); // 5 товаров
```
Словарь с учётом плюрализации. В русском языке 3 формы и `other` используется для дробных чисел. 
Под другие языки доступны: `zero`, `one`, `two`, `few`, `many`, `other`. 
В английском 2 формы: `one` и `other`
```json
{
  "basket": {
    "articles": {
      "one": "товар",
      "few": "товара",
      "many": "товаров",
      "other": "товара"
    }
  }
}
```

При первом обращении к функции перевода динамически подгружается словарь. Если словарь ещё в процессе
загрузки, то вернётся перевод по умолчанию `fall` (если передан) или код переводимой фразы. Если
словарь текущей локали загружен, но в нём нет перевода, то вернётся перевод из базовой локали.

```ts
const text = t(`example.title`, {fall: 'Title'});
```

По умолчанию поддерживается React `<Suspense>`. Ожидание срабатывает при загрузке динамически
подключенных словарей. Для этого функция `t()` выбрасывает исключение с промисом. Если не нужен режим
suspense, то его можно отключить в опциях функции `t()`.

```ts
const text = t(`example.title`, {suspense: false});
```

Можно указать желаемую локаль для перевода. Локаль должна быть определена в файле импорта словарей.

```ts
const text = t(`example.title`, {locale: 'ru-RU'});
```
## `service.ts`

## `types.ts`

Типы выводятся автоматически на основе базовой локали `*`. Новые словари сперва необходимо подключать 
в базовую локаль. После подключаются переводы под конкретные локали. 
За счёт типизации словарей будут поссказки в коде на доступные ключи переводов. 

Добавлять новые типы или корректировать существующие не требуется.  
